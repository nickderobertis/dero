
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>dero.data package &#8212; dero 0.15.0 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="dero-data-package">
<h1>dero.data package<a class="headerlink" href="#dero-data-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="dero.data.compareids.html">dero.data.compareids package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="dero.data.compareids.html#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="dero.data.compareids.frontends.html">dero.data.compareids.frontends package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="dero.data.compareids.frontends.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="dero.data.compareids.frontends.html#module-dero.data.compareids.frontends.text_summ">dero.data.compareids.frontends.text_summ module</a></li>
<li class="toctree-l4"><a class="reference internal" href="dero.data.compareids.frontends.html#module-dero.data.compareids.frontends">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="dero.data.compareids.models.html">dero.data.compareids.models package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="dero.data.compareids.models.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="dero.data.compareids.models.html#module-dero.data.compareids.models.bars">dero.data.compareids.models.bars module</a></li>
<li class="toctree-l4"><a class="reference internal" href="dero.data.compareids.models.html#module-dero.data.compareids.models.base">dero.data.compareids.models.base module</a></li>
<li class="toctree-l4"><a class="reference internal" href="dero.data.compareids.models.html#module-dero.data.compareids.models.datasets">dero.data.compareids.models.datasets module</a></li>
<li class="toctree-l4"><a class="reference internal" href="dero.data.compareids.models.html#module-dero.data.compareids.models.flowchart">dero.data.compareids.models.flowchart module</a></li>
<li class="toctree-l4"><a class="reference internal" href="dero.data.compareids.models.html#module-dero.data.compareids.models.interface">dero.data.compareids.models.interface module</a></li>
<li class="toctree-l4"><a class="reference internal" href="dero.data.compareids.models.html#module-dero.data.compareids.models.main">dero.data.compareids.models.main module</a></li>
<li class="toctree-l4"><a class="reference internal" href="dero.data.compareids.models.html#module-dero.data.compareids.models.steps">dero.data.compareids.models.steps module</a></li>
<li class="toctree-l4"><a class="reference internal" href="dero.data.compareids.models.html#module-dero.data.compareids.models">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="dero.data.compareids.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="dero.data.compareids.html#module-dero.data.compareids.backend">dero.data.compareids.backend module</a></li>
<li class="toctree-l2"><a class="reference internal" href="dero.data.compareids.html#module-dero.data.compareids.tools">dero.data.compareids.tools module</a></li>
<li class="toctree-l2"><a class="reference internal" href="dero.data.compareids.html#module-dero.data.compareids">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dero.data.display.html">dero.data.display package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="dero.data.display.html#module-dero.data.display">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dero.data.ff.html">dero.data.ff package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="dero.data.ff.html#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="dero.data.ff.create.html">dero.data.ff.create package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="dero.data.ff.create.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="dero.data.ff.create.html#module-dero.data.ff.create.average">dero.data.ff.create.average module</a></li>
<li class="toctree-l4"><a class="reference internal" href="dero.data.ff.create.html#module-dero.data.ff.create.dualsort">dero.data.ff.create.dualsort module</a></li>
<li class="toctree-l4"><a class="reference internal" href="dero.data.ff.create.html#module-dero.data.ff.create.inputs">dero.data.ff.create.inputs module</a></li>
<li class="toctree-l4"><a class="reference internal" href="dero.data.ff.create.html#module-dero.data.ff.create.label">dero.data.ff.create.label module</a></li>
<li class="toctree-l4"><a class="reference internal" href="dero.data.ff.create.html#module-dero.data.ff.create.main">dero.data.ff.create.main module</a></li>
<li class="toctree-l4"><a class="reference internal" href="dero.data.ff.create.html#module-dero.data.ff.create.mainport">dero.data.ff.create.mainport module</a></li>
<li class="toctree-l4"><a class="reference internal" href="dero.data.ff.create.html#module-dero.data.ff.create.minus">dero.data.ff.create.minus module</a></li>
<li class="toctree-l4"><a class="reference internal" href="dero.data.ff.create.html#module-dero.data.ff.create.model">dero.data.ff.create.model module</a></li>
<li class="toctree-l4"><a class="reference internal" href="dero.data.ff.create.html#module-dero.data.ff.create.reshape">dero.data.ff.create.reshape module</a></li>
<li class="toctree-l4"><a class="reference internal" href="dero.data.ff.create.html#module-dero.data.ff.create.sort">dero.data.ff.create.sort module</a></li>
<li class="toctree-l4"><a class="reference internal" href="dero.data.ff.create.html#module-dero.data.ff.create">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="dero.data.ff.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="dero.data.ff.html#module-dero.data.ff.fftypes">dero.data.ff.fftypes module</a></li>
<li class="toctree-l2"><a class="reference internal" href="dero.data.ff.html#module-dero.data.ff">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dero.data.formatters.html">dero.data.formatters package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="dero.data.formatters.html#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="dero.data.formatters.models.html">dero.data.formatters.models package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="dero.data.formatters.models.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="dero.data.formatters.models.html#module-dero.data.formatters.models.result">dero.data.formatters.models.result module</a></li>
<li class="toctree-l4"><a class="reference internal" href="dero.data.formatters.models.html#module-dero.data.formatters.models">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="dero.data.formatters.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="dero.data.formatters.html#module-dero.data.formatters.stars">dero.data.formatters.stars module</a></li>
<li class="toctree-l2"><a class="reference internal" href="dero.data.formatters.html#module-dero.data.formatters.stderr">dero.data.formatters.stderr module</a></li>
<li class="toctree-l2"><a class="reference internal" href="dero.data.formatters.html#module-dero.data.formatters">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dero.data.panel.html">dero.data.panel package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="dero.data.panel.html#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="dero.data.panel.did.html">dero.data.panel.did package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="dero.data.panel.did.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="dero.data.panel.did.html#module-dero.data.panel.did.dataprep">dero.data.panel.did.dataprep module</a></li>
<li class="toctree-l4"><a class="reference internal" href="dero.data.panel.did.html#module-dero.data.panel.did.main">dero.data.panel.did.main module</a></li>
<li class="toctree-l4"><a class="reference internal" href="dero.data.panel.did.html#module-dero.data.panel.did.reg">dero.data.panel.did.reg module</a></li>
<li class="toctree-l4"><a class="reference internal" href="dero.data.panel.did.html#module-dero.data.panel.did.totex">dero.data.panel.did.totex module</a></li>
<li class="toctree-l4"><a class="reference internal" href="dero.data.panel.did.html#module-dero.data.panel.did">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="dero.data.panel.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="dero.data.panel.html#module-dero.data.panel.expandselect">dero.data.panel.expandselect module</a></li>
<li class="toctree-l2"><a class="reference internal" href="dero.data.panel.html#module-dero.data.panel">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dero.data.portfolio.html">dero.data.portfolio package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="dero.data.portfolio.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="dero.data.portfolio.html#module-dero.data.portfolio.name">dero.data.portfolio.name module</a></li>
<li class="toctree-l2"><a class="reference internal" href="dero.data.portfolio.html#module-dero.data.portfolio.resample">dero.data.portfolio.resample module</a></li>
<li class="toctree-l2"><a class="reference internal" href="dero.data.portfolio.html#module-dero.data.portfolio.sort">dero.data.portfolio.sort module</a></li>
<li class="toctree-l2"><a class="reference internal" href="dero.data.portfolio.html#module-dero.data.portfolio.typing">dero.data.portfolio.typing module</a></li>
<li class="toctree-l2"><a class="reference internal" href="dero.data.portfolio.html#module-dero.data.portfolio">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dero.data.psm.html">dero.data.psm package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="dero.data.psm.html#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="dero.data.psm.summarize.html">dero.data.psm.summarize package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="dero.data.psm.summarize.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="dero.data.psm.summarize.html#module-dero.data.psm.summarize.examine">dero.data.psm.summarize.examine module</a></li>
<li class="toctree-l4"><a class="reference internal" href="dero.data.psm.summarize.html#module-dero.data.psm.summarize.latex">dero.data.psm.summarize.latex module</a></li>
<li class="toctree-l4"><a class="reference internal" href="dero.data.psm.summarize.html#module-dero.data.psm.summarize.main">dero.data.psm.summarize.main module</a></li>
<li class="toctree-l4"><a class="reference internal" href="dero.data.psm.summarize.html#module-dero.data.psm.summarize.predictions">dero.data.psm.summarize.predictions module</a></li>
<li class="toctree-l4"><a class="reference internal" href="dero.data.psm.summarize.html#module-dero.data.psm.summarize.stats">dero.data.psm.summarize.stats module</a></li>
<li class="toctree-l4"><a class="reference internal" href="dero.data.psm.summarize.html#module-dero.data.psm.summarize">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="dero.data.psm.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="dero.data.psm.html#module-dero.data.psm.dataprep">dero.data.psm.dataprep module</a></li>
<li class="toctree-l2"><a class="reference internal" href="dero.data.psm.html#module-dero.data.psm.main">dero.data.psm.main module</a></li>
<li class="toctree-l2"><a class="reference internal" href="dero.data.psm.html#module-dero.data.psm.match">dero.data.psm.match module</a></li>
<li class="toctree-l2"><a class="reference internal" href="dero.data.psm.html#module-dero.data.psm.names">dero.data.psm.names module</a></li>
<li class="toctree-l2"><a class="reference internal" href="dero.data.psm.html#module-dero.data.psm.predict">dero.data.psm.predict module</a></li>
<li class="toctree-l2"><a class="reference internal" href="dero.data.psm.html#module-dero.data.psm.score">dero.data.psm.score module</a></li>
<li class="toctree-l2"><a class="reference internal" href="dero.data.psm.html#module-dero.data.psm.typing">dero.data.psm.typing module</a></li>
<li class="toctree-l2"><a class="reference internal" href="dero.data.psm.html#module-dero.data.psm">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dero.data.summarize.html">dero.data.summarize package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="dero.data.summarize.html#module-dero.data.summarize">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-dero.data.typing">
<span id="dero-data-typing-module"></span><h2>dero.data.typing module<a class="headerlink" href="#module-dero.data.typing" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-dero.data">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-dero.data" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="dero.data.GetCRSP">
<em class="property">class </em><code class="sig-prename descclassname">dero.data.</code><code class="sig-name descname">GetCRSP</code><span class="sig-paren">(</span><em class="sig-param">debug=False</em>, <em class="sig-param">crsp_dir=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dero/data.html#GetCRSP"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dero.data.GetCRSP" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="dero.data.GetCRSP.pull_crsp">
<code class="sig-name descname">pull_crsp</code><span class="sig-paren">(</span><em class="sig-param">df, coid='PERMNO', freq='m', get=['PRC', 'SHROUT'], date='Date', other_byvars=None, time=None, between_time=False, wide=True, abret=False, window=None, cumret=False, includefac=False, includecoef=False, drop_first=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dero/data.html#GetCRSP.pull_crsp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dero.data.GetCRSP.pull_crsp" title="Permalink to this definition">¶</a></dt>
<dd><p>Pulls prices and returns from CRSP. Currently supports the monthly file merging on PERMNO.</p>
<p>WARNING: Will overwrite variables called “Year” and “Month” if merging the monthly file</p>
<p>coid = string, company identifier (currently supports ‘GVKEY’, ‘TICKER’, ‘PERMNO’, ‘PERMCO’, ‘NCUSIP’)
freq = ‘m’ for monthly, ‘d’ for daily
get = ‘PRC’, ‘RET’, ‘SHROUT’, ‘VOL’, ‘CFACPR’, ‘CFACSHR’, or a list combining any of these
date = name of datetime column in quotes
other_byvars = other by vars in dataset besides company identifier and date. Used for long_to_wide
time = list of integers or None. If not None, will pull the variables for a time difference of the time</p>
<blockquote>
<div><p>numbers given, and put them in wide format in the output dataset. For instance time=[-12,0,12] with
freq=’m’ and get=’RET’ would pull three returns per observation, one twelve months prior, one contemporaneous,
and one twelve months later, naming them RET-12, RET0, and RET12. If freq=’d’ in the same example, it would be
twelve days prior, etc.</p>
</div></blockquote>
<dl>
<dt>between_time = bool. Only applicable if time is not None. True to generate periods in between given time periods, e.g.</dt><dd><p>passing time=[12,24,36] will get periods 12, 13, 14, …, 35, 36.</p>
</dd>
<dt>abret = 1, 3, 4, or False. If 1, 3, or 4 is passed and ‘RET’ is in get, will calculate abnormal returns according to CAPM,</dt><dd><p>3 or 4 factor model, respectively.</p>
</dd>
<dt>window = Integer or None. Must provide an integer if abret is not False. This is the number of prior periods to use</dt><dd><p>for estimating the loadings in factor models. For instance, if freq=’m’, window=36 would use the prior
three years of returns to estimate the loadings.</p>
</dd>
<dt>cumret = ‘between’, ‘zero’, ‘first’, or False. time must not be None and RET in get for this option to matter. </dt><dd><p>When pulling returns for multiple periods, gives the option to cumulate returns. If False, will just return 
returns for the individual periods. 
If ‘zero’, will give returns since the original date. 
If ‘between’, will give returns since the prior requested time period.
If ‘first’, will give returns since the first requested time period.
For example, if our input data was for date 1/5/2006, and in the CRSP table we had:</p>
<blockquote>
<div><p>permno  date       RET
10516   1/5/2006   10%
10516   1/6/2006   20%
10516   1/7/2006    5%
10516   1/8/2006   30%</p>
</div></blockquote>
<dl class="simple">
<dt>Then get_crsp(df, time=[1,3], get=’RET’, cumret=None) would return:</dt><dd><p>permno  date       RET1  RET3
10516   1/5/2006   20%   30%</p>
</dd>
<dt>Then get_crsp(df, time=[1,3], get=’RET’, cumret=’between’) would return:</dt><dd><p>permno  date       RET1  RET3
10516   1/5/2006   20%   36.5%</p>
</dd>
<dt>Then get_crsp(df, time=[1,3], get=’RET’, cumret=’zero’) would return:</dt><dd><p>permno  date       RET1  RET3
10516   1/5/2006   20%   63.8%</p>
</dd>
</dl>
<p>The output for cumret=’first’ would be the same as for cumret=’zero’ because the first period is period zero.
Had time been =[-1, 1, 3], then returns would be calculated from period -1 to period 1, and period -1 to period 3.</p>
</dd>
</dl>
<p>includefac = Boolean, True to include factors in output
includecoef = Boolean, True to include factor coefficients in output
wide = True for output data to be wide form, False for long form. Only applies when time is not None.
drop_first = bool, set to True to drop observations for first time. Can only be used when time != None, and</p>
<blockquote>
<div><p>when cumret != False. This is a
convenience function for estimating cumulative return windows. For example, if time = [-1, 1], 
then the typical output would include both cum_RET-1 and cum_RET1. All we actually care about is the
cumulative return over the window, which is equal to cum_RET1. drop_first=True will drop out 
RET-1 and cum_RET-1 from the output.</p>
</div></blockquote>
<p>debug: bool, set to True to restrict CRSP to only PERMNOs 10516 (gvkey=001722) and 10517 (gvkey=001076)</p>
<p>Typical usage:
Calculating a return window with abnormal returns included:</p>
<blockquote>
<div><p>get_crsp(df, get=’RET’, freq=’d’, time=[-1, 1], cumret=’between’, abret=4, window=250, drop_first=True)</p>
</div></blockquote>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="dero.data.get_abret">
<code class="sig-prename descclassname">dero.data.</code><code class="sig-name descname">get_abret</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">byvars</em>, <em class="sig-param">fulldatevar='Date'</em>, <em class="sig-param">year_month=None</em>, <em class="sig-param">freq='m'</em>, <em class="sig-param">abret_fac=5</em>, <em class="sig-param">retvar='RET'</em>, <em class="sig-param">includecoef=False</em>, <em class="sig-param">includefac=False</em>, <em class="sig-param">mp=False</em>, <em class="sig-param">stderr=False</em>, <em class="sig-param">**get_ff_kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dero/data.html#get_abret"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dero.data.get_abret" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes a dataframe containing a column of returns, dates, and at least one by variable and calculates
abnormal returns for the model of choice. Returns a dataframe with the abnormal returns merged.</p>
<p>Required inputs:
df: pandas dataframe
byvars: str or list of strs, column names of columns on which to form by groups</p>
<p>Optional inputs:
fulldatevar: str, name of column containing date variable. If provided, don’t provide year_month.
year_month: list of strs, columns names of year and month variables, e.g. [‘Year’,’Month’]. Must</p>
<blockquote>
<div><p>set fulldatevar to None if year_month is provided.</p>
</div></blockquote>
<p>freq: ‘m’ or ‘d’, ‘m’ for monthly returns, ‘d’ for daily returns
abret_fac: int (1, 3, 5), abnormal return model
retvar: str, name of return variable
includecoef: bool, set to True to get factor loadings
includefac: bool, set to True to get factors and risk free rate
mp: False to use single processor, True to use all processors, int to use # processors
stderr: bool, True to include standard errors of coefficients</p>
</dd></dl>

<dl class="function">
<dt id="dero.data.get_ff_factors">
<code class="sig-prename descclassname">dero.data.</code><code class="sig-name descname">get_ff_factors</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">fulldatevar=None</em>, <em class="sig-param">year_month=None</em>, <em class="sig-param">freq='m'</em>, <em class="sig-param">subset=None</em>, <em class="sig-param">ff_df=None</em>, <em class="sig-param">ff_dir=None</em>, <em class="sig-param">custom_ff_name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dero/data.html#get_ff_factors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dero.data.get_ff_factors" title="Permalink to this definition">¶</a></dt>
<dd><p>Pulls Fama-French factors and merges them to dataset</p>
<p>df: Input dataframe
fulldatevar: String name of date variable to merge on. Specify this OR year and month variable. Must use this</p>
<blockquote>
<div><p>and not year_month if pulling daily factors. If merging with monthly factors, will create month
and year variables in the output dataset. Warning: Will overwrite any variables called Month
and Year in the input data.</p>
</div></blockquote>
<p>year_month: Two element list of [‘yearvar’,’monthvar’]. Specify this OR full date variable.
freq: ‘m’ for monthly factors, ‘d’ for daily
subset: str or list, names of ff factors to pull. Can specify any of ‘mktrf’, ‘smb’, ‘hml’, ‘rmw’, ‘cma’, ‘umd’
ff_df: pandas DataFrame containing factors. if passed, will ignore ff_dir and custom_ff_name
ff_dir: folder containing FF data
custom_ff_name: used in combination with ff_dir to select file</p>
</dd></dl>

<dl class="function">
<dt id="dero.data.get_gvkey_or_permno">
<code class="sig-prename descclassname">dero.data.</code><code class="sig-name descname">get_gvkey_or_permno</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">datevar</em>, <em class="sig-param">get='GVKEY'</em>, <em class="sig-param">other_byvars=None</em>, <em class="sig-param">crsp_dir=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dero/data.html#get_gvkey_or_permno"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dero.data.get_gvkey_or_permno" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes a dataframe containing either GVKEY or PERMNO and merges to the CRSP linktable to get the other one.</p>
</dd></dl>

<dl class="function">
<dt id="dero.data.load_and_merge_compustat">
<code class="sig-prename descclassname">dero.data.</code><code class="sig-name descname">load_and_merge_compustat</code><span class="sig-paren">(</span><em class="sig-param">df, get=['sale'], freq='a', gvkeyvar='gvkey', datevar='Date', debug=False, comp_dir=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dero/data.html#load_and_merge_compustat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dero.data.load_and_merge_compustat" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function for both loading and merging compustat to existing dataframe.</p>
<p>Required inputs:
df: Pandas dataframe containing a date variable and gvkey</p>
<p>Optional inputs:
get: List of strings, variable names to pull from compustat, not including those needed for</p>
<blockquote>
<div><p>the merge. Do not add the ‘q’ or ‘y’ for quarterly variables, this is done automatically.
‘y’ variables will be converted to quarterly values by looking at changes.</p>
</div></blockquote>
<p>freq: string, ‘a’ or ‘q’ for annual or quarterly compustat (funda, fundq)
gvkeyvar: string, name of variable containing gvkeys
datevar: string, name of date variable in df on which to merge. Will pull the newest data</p>
<blockquote>
<div><p>that is before or on this date.</p>
</div></blockquote>
<p>debug: bool, True to restrict to only gvkeys (001076, 001722)
comp_dir: string, directory containing compustat files</p>
</dd></dl>

<dl class="function">
<dt id="dero.data.merge_dsenames">
<code class="sig-prename descclassname">dero.data.</code><code class="sig-name descname">merge_dsenames</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">on='TICKER'</em>, <em class="sig-param">get='PERMNO'</em>, <em class="sig-param">date='Date'</em>, <em class="sig-param">other_byvars=None</em>, <em class="sig-param">crsp_dir=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dero/data.html#merge_dsenames"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dero.data.merge_dsenames" title="Permalink to this definition">¶</a></dt>
<dd><p>Merges with dsenames file on on variable (TICKER, PERMNO, PERMCO, NCUSIP, CUSIP6), to get get variable (same list).
Must have a Date variable in df.</p>
<p>Default is to match on TICKER and pull PERMNO.</p>
<p>Required inputs:
df: pandas dataframe containing any of (TICKER, PERMNO, PERMCO, NCUSIP, CUSIP6)</p>
<p>Optional inputs:
on: str, column name to merge on, one of (TICKER, PERMNO, PERMCO, NCUSIP, CUSIP6)
get: str or list, column or columns to get from dsenames, any of (TICKER, PERMNO, PERMCO, NCUSIP, CUSIP6)</p>
<blockquote>
<div><p>that aren’t already in on</p>
</div></blockquote>
<p>date: str, column name of date variable
other_byvars: any other variables signifying groups in the data, prevents from collapsing those groups</p>
</dd></dl>

<dl class="function">
<dt id="dero.data.replace_missing_csv">
<code class="sig-prename descclassname">dero.data.</code><code class="sig-name descname">replace_missing_csv</code><span class="sig-paren">(</span><em class="sig-param">csv_list</em>, <em class="sig-param">missing_rep</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dero/data.html#replace_missing_csv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dero.data.replace_missing_csv" title="Permalink to this definition">¶</a></dt>
<dd><p>Replaces missing items in a CSV with a given missing representation string.</p>
</dd></dl>

</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Nick DeRobertis.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/dero.data.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>