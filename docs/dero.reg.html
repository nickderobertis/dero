
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>dero.reg package &#8212; dero 0.15.0 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="dero-reg-package">
<h1>dero.reg package<a class="headerlink" href="#dero-reg-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="dero.reg.cluster.html">dero.reg.cluster package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="dero.reg.cluster.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="dero.reg.cluster.html#module-dero.reg.cluster.output">dero.reg.cluster.output module</a></li>
<li class="toctree-l2"><a class="reference internal" href="dero.reg.cluster.html#module-dero.reg.cluster">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dero.reg.fe.html">dero.reg.fe package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="dero.reg.fe.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="dero.reg.fe.html#module-dero.reg.fe.dataprep">dero.reg.fe.dataprep module</a></li>
<li class="toctree-l2"><a class="reference internal" href="dero.reg.fe.html#module-dero.reg.fe.output">dero.reg.fe.output module</a></li>
<li class="toctree-l2"><a class="reference internal" href="dero.reg.fe.html#module-dero.reg.fe.tools">dero.reg.fe.tools module</a></li>
<li class="toctree-l2"><a class="reference internal" href="dero.reg.fe.html#module-dero.reg.fe">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dero.reg.hypothesis.html">dero.reg.hypothesis package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="dero.reg.hypothesis.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="dero.reg.hypothesis.html#module-dero.reg.hypothesis.lincom">dero.reg.hypothesis.lincom module</a></li>
<li class="toctree-l2"><a class="reference internal" href="dero.reg.hypothesis.html#module-dero.reg.hypothesis">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dero.reg.lag.html">dero.reg.lag package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="dero.reg.lag.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="dero.reg.lag.html#module-dero.reg.lag.create">dero.reg.lag.create module</a></li>
<li class="toctree-l2"><a class="reference internal" href="dero.reg.lag.html#module-dero.reg.lag.main">dero.reg.lag.main module</a></li>
<li class="toctree-l2"><a class="reference internal" href="dero.reg.lag.html#module-dero.reg.lag.plot">dero.reg.lag.plot module</a></li>
<li class="toctree-l2"><a class="reference internal" href="dero.reg.lag.html#module-dero.reg.lag.remove">dero.reg.lag.remove module</a></li>
<li class="toctree-l2"><a class="reference internal" href="dero.reg.lag.html#module-dero.reg.lag">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dero.reg.linmodels.html">dero.reg.linmodels package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="dero.reg.linmodels.html#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="dero.reg.linmodels.bindings.html">dero.reg.linmodels.bindings package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="dero.reg.linmodels.bindings.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="dero.reg.linmodels.bindings.html#module-dero.reg.linmodels.bindings.fe">dero.reg.linmodels.bindings.fe module</a></li>
<li class="toctree-l4"><a class="reference internal" href="dero.reg.linmodels.bindings.html#module-dero.reg.linmodels.bindings.fit">dero.reg.linmodels.bindings.fit module</a></li>
<li class="toctree-l4"><a class="reference internal" href="dero.reg.linmodels.bindings.html#module-dero.reg.linmodels.bindings.input">dero.reg.linmodels.bindings.input module</a></li>
<li class="toctree-l4"><a class="reference internal" href="dero.reg.linmodels.bindings.html#module-dero.reg.linmodels.bindings.modelstr">dero.reg.linmodels.bindings.modelstr module</a></li>
<li class="toctree-l4"><a class="reference internal" href="dero.reg.linmodels.bindings.html#module-dero.reg.linmodels.bindings.result">dero.reg.linmodels.bindings.result module</a></li>
<li class="toctree-l4"><a class="reference internal" href="dero.reg.linmodels.bindings.html#module-dero.reg.linmodels.bindings">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="dero.reg.linmodels.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="dero.reg.linmodels.html#module-dero.reg.linmodels.reg">dero.reg.linmodels.reg module</a></li>
<li class="toctree-l2"><a class="reference internal" href="dero.reg.linmodels.html#module-dero.reg.linmodels">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dero.reg.summarize.html">dero.reg.summarize package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="dero.reg.summarize.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="dero.reg.summarize.html#module-dero.reg.summarize.split">dero.reg.summarize.split module</a></li>
<li class="toctree-l2"><a class="reference internal" href="dero.reg.summarize.html#module-dero.reg.summarize.tstat">dero.reg.summarize.tstat module</a></li>
<li class="toctree-l2"><a class="reference internal" href="dero.reg.summarize.html#module-dero.reg.summarize.yesno">dero.reg.summarize.yesno module</a></li>
<li class="toctree-l2"><a class="reference internal" href="dero.reg.summarize.html#module-dero.reg.summarize">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-dero.reg.args">
<span id="dero-reg-args-module"></span><h2>dero.reg.args module<a class="headerlink" href="#module-dero.reg.args" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="dero.reg.args.RegressionSetArgs">
<em class="property">class </em><code class="sig-prename descclassname">dero.reg.args.</code><code class="sig-name descname">RegressionSetArgs</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">yvar</em>, <em class="sig-param">xvars_list</em>, <em class="sig-param">fe_list=None</em>, <em class="sig-param">**reg_kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dero/reg/args.html#RegressionSetArgs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dero.reg.args.RegressionSetArgs" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="dero.reg.args.RegressionSetArgs.keys">
<code class="sig-name descname">keys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dero/reg/args.html#RegressionSetArgs.keys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dero.reg.args.RegressionSetArgs.keys" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-dero.reg.chooser">
<span id="dero-reg-chooser-module"></span><h2>dero.reg.chooser module<a class="headerlink" href="#module-dero.reg.chooser" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="dero.reg.chooser.any_reg">
<code class="sig-prename descclassname">dero.reg.chooser.</code><code class="sig-name descname">any_reg</code><span class="sig-paren">(</span><em class="sig-param">reg_type</em>, <em class="sig-param">*reg_args</em>, <em class="sig-param">**reg_kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dero/reg/chooser.html#any_reg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dero.reg.chooser.any_reg" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-dero.reg.controls">
<span id="dero-reg-controls-module"></span><h2>dero.reg.controls module<a class="headerlink" href="#module-dero.reg.controls" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="dero.reg.controls.suppress_controls_in_summary_df">
<code class="sig-prename descclassname">dero.reg.controls.</code><code class="sig-name descname">suppress_controls_in_summary_df</code><span class="sig-paren">(</span><em class="sig-param">summ_df</em>, <em class="sig-param">regressor_order</em>, <em class="sig-param">dummy_col_dicts</em>, <em class="sig-param">info_dict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dero/reg/controls.html#suppress_controls_in_summary_df"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dero.reg.controls.suppress_controls_in_summary_df" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-dero.reg.dataprep">
<span id="dero-reg-dataprep-module"></span><h2>dero.reg.dataprep module<a class="headerlink" href="#module-dero.reg.dataprep" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-dero.reg.differenced">
<span id="dero-reg-differenced-module"></span><h2>dero.reg.differenced module<a class="headerlink" href="#module-dero.reg.differenced" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="dero.reg.differenced.create_differenced_variables">
<code class="sig-prename descclassname">dero.reg.differenced.</code><code class="sig-name descname">create_differenced_variables</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">diff_cols</em>, <em class="sig-param">id_col='TICKER'</em>, <em class="sig-param">date_col='Date'</em>, <em class="sig-param">difference_lag=1</em>, <em class="sig-param">fill_method='ffill'</em>, <em class="sig-param">fill_limit=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dero/reg/differenced.html#create_differenced_variables"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dero.reg.differenced.create_differenced_variables" title="Permalink to this definition">¶</a></dt>
<dd><p>Note: partially inplace</p>
</dd></dl>

<dl class="function">
<dt id="dero.reg.differenced.diff_reg">
<code class="sig-prename descclassname">dero.reg.differenced.</code><code class="sig-name descname">diff_reg</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">yvar</em>, <em class="sig-param">xvars</em>, <em class="sig-param">id_col</em>, <em class="sig-param">date_col</em>, <em class="sig-param">difference_lag=1</em>, <em class="sig-param">diff_cols=None</em>, <em class="sig-param">diff_fill_method='ffill'</em>, <em class="sig-param">diff_fill_limit=None</em>, <em class="sig-param">**reg_kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dero/reg/differenced.html#diff_reg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dero.reg.differenced.diff_reg" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-dero.reg.ext_statsmodels">
<span id="dero-reg-ext-statsmodels-module"></span><h2>dero.reg.ext_statsmodels module<a class="headerlink" href="#module-dero.reg.ext_statsmodels" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="dero.reg.ext_statsmodels.summary_col">
<code class="sig-prename descclassname">dero.reg.ext_statsmodels.</code><code class="sig-name descname">summary_col</code><span class="sig-paren">(</span><em class="sig-param">results</em>, <em class="sig-param">float_format='%.4f'</em>, <em class="sig-param">model_names=[]</em>, <em class="sig-param">stars=False</em>, <em class="sig-param">info_dict=None</em>, <em class="sig-param">regressor_order=[]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dero/reg/ext_statsmodels.html#summary_col"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dero.reg.ext_statsmodels.summary_col" title="Permalink to this definition">¶</a></dt>
<dd><p>NOTE: the purpose of recreating the summary_col function is becuase of issue
#3767 in statsmodels:
<a class="reference external" href="https://github.com/statsmodels/statsmodels/issues/3767">https://github.com/statsmodels/statsmodels/issues/3767</a>
Which can cause coefficients to become mismatched when using regressor_order.
I have patched the issue by replacing np.unique with pd.unique.</p>
<p>TODO: Once the issue is patched, replace this function with simply a reference
to summary_col from statsmodels</p>
<p>Summarize multiple results instances side-by-side (coefs and SEs)</p>
<p>results : statsmodels results instance or list of result instances
float_format : string</p>
<blockquote>
<div><p>float format for coefficients and standard errors
Default : ‘%.4f’</p>
</div></blockquote>
<dl class="simple">
<dt>model_names<span class="classifier">list of strings of length len(results) if the names are not</span></dt><dd><p>unique, a roman number will be appended to all model names</p>
</dd>
<dt>stars<span class="classifier">bool</span></dt><dd><p>print significance stars</p>
</dd>
<dt>info_dict<span class="classifier">dict</span></dt><dd><p>dict of lambda functions to be applied to results instances to retrieve
model info. To use specific information for different models, add a
(nested) info_dict with model name as the key.
Example: <cite>info_dict = {“N”:…, “R2”: …, “OLS”:{“R2”:…}}</cite> would
only show <cite>R2</cite> for OLS regression models, but additionally <cite>N</cite> for
all other results.
Default : None (use the info_dict specified in
result.default_model_infos, if this property exists)</p>
</dd>
<dt>regressor_order<span class="classifier">list of strings</span></dt><dd><p>list of names of the regressors in the desired order. All regressors
not specified will be appended to the end of the list.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="dero.reg.ext_statsmodels.update_statsmodel_result_with_new_cov_matrix">
<code class="sig-prename descclassname">dero.reg.ext_statsmodels.</code><code class="sig-name descname">update_statsmodel_result_with_new_cov_matrix</code><span class="sig-paren">(</span><em class="sig-param">result</em>, <em class="sig-param">cov_matrix</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dero/reg/ext_statsmodels.html#update_statsmodel_result_with_new_cov_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dero.reg.ext_statsmodels.update_statsmodel_result_with_new_cov_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Note: inplace</p>
<p>Statsmodels results have caching going on. Need to update all the properties
which depend on the covariance matrix</p>
</dd></dl>

</div>
<div class="section" id="module-dero.reg.interact">
<span id="dero-reg-interact-module"></span><h2>dero.reg.interact module<a class="headerlink" href="#module-dero.reg.interact" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="dero.reg.interact.create_interaction_variables">
<code class="sig-prename descclassname">dero.reg.interact.</code><code class="sig-name descname">create_interaction_variables</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">interaction_tuples</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dero/reg/interact.html#create_interaction_variables"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dero.reg.interact.create_interaction_variables" title="Permalink to this definition">¶</a></dt>
<dd><p>Note: inplace</p>
</dd></dl>

<dl class="function">
<dt id="dero.reg.interact.delete_interaction_variables">
<code class="sig-prename descclassname">dero.reg.interact.</code><code class="sig-name descname">delete_interaction_variables</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">interaction_tuples</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dero/reg/interact.html#delete_interaction_variables"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dero.reg.interact.delete_interaction_variables" title="Permalink to this definition">¶</a></dt>
<dd><p>Note: inplace</p>
</dd></dl>

</div>
<div class="section" id="module-dero.reg.iter">
<span id="dero-reg-iter-module"></span><h2>dero.reg.iter module<a class="headerlink" href="#module-dero.reg.iter" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="dero.reg.iter.reg_for_each_combo">
<code class="sig-prename descclassname">dero.reg.iter.</code><code class="sig-name descname">reg_for_each_combo</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">yvar</em>, <em class="sig-param">xvars</em>, <em class="sig-param">reg_type='reg'</em>, <em class="sig-param">**reg_kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dero/reg/iter.html#reg_for_each_combo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dero.reg.iter.reg_for_each_combo" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes each possible combination of xvars (starting from each var individually, then each pair
of vars, etc. all the way up to all xvars), and regresses yvar on each set of xvars. Returns
a list of fitted regressions.</p>
</dd></dl>

<dl class="function">
<dt id="dero.reg.iter.reg_for_each_combo_select_and_produce_summary">
<code class="sig-prename descclassname">dero.reg.iter.</code><code class="sig-name descname">reg_for_each_combo_select_and_produce_summary</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">yvar</em>, <em class="sig-param">xvars</em>, <em class="sig-param">robust=True</em>, <em class="sig-param">cluster=False</em>, <em class="sig-param">keepnum=5</em>, <em class="sig-param">stderr=False</em>, <em class="sig-param">t_stats=True</em>, <em class="sig-param">float_format='%0.1f'</em>, <em class="sig-param">regressor_order=[]</em>, <em class="sig-param">**other_reg_kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dero/reg/iter.html#reg_for_each_combo_select_and_produce_summary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dero.reg.iter.reg_for_each_combo_select_and_produce_summary" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function to run regressions for every combination of xvars, select the best models,
and present them in a summary format. Returns a tuple of (reg_list, summary) where reg_list
is a list of fitted regression models, and summary is a single dataframe of results</p>
<p>Required inputs:
df: pandas dataframe containing regression data
yvar: str, column name of y variable
xvars: list of strs, column names of all possible x variables</p>
<p>Optional inputs:
robust: bool, set to True to use heterskedasticity-robust standard errors
cluster: False or str, set to a column name to calculate standard errors within clusters</p>
<blockquote>
<div><p>given by unique values of given column name</p>
</div></blockquote>
<dl class="simple">
<dt>keepnum: int, number to keep for each amount of x variables. The total number of outputted</dt><dd><p>regressions will be roughly keepnum * len(xvars)</p>
</dd>
</dl>
<p>stderr: bool, set to True to keep rows for standard errors below coefficient estimates
t_stats: bool, set to True to keep rows for standard errors below coefficient estimates and convert them to t-stats</p>
<p>Note: only specify at most one of robust and cluster.
Note: don’t set both stderr and t_stats to True</p>
</dd></dl>

<dl class="function">
<dt id="dero.reg.iter.reg_for_each_lag">
<code class="sig-prename descclassname">dero.reg.iter.</code><code class="sig-name descname">reg_for_each_lag</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">yvar</em>, <em class="sig-param">xvars</em>, <em class="sig-param">lag_tuple=(1</em>, <em class="sig-param">2</em>, <em class="sig-param">3</em>, <em class="sig-param">4)</em>, <em class="sig-param">reg_type='reg'</em>, <em class="sig-param">**reg_kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dero/reg/iter.html#reg_for_each_lag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dero.reg.iter.reg_for_each_lag" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="dero.reg.iter.reg_for_each_lag_and_produce_summary">
<code class="sig-prename descclassname">dero.reg.iter.</code><code class="sig-name descname">reg_for_each_lag_and_produce_summary</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">yvar</em>, <em class="sig-param">xvars</em>, <em class="sig-param">main_ivs</em>, <em class="sig-param">lag_tuple=(1</em>, <em class="sig-param">2</em>, <em class="sig-param">3</em>, <em class="sig-param">4)</em>, <em class="sig-param">consolidate_lags=True</em>, <em class="sig-param">reg_type='reg'</em>, <em class="sig-param">stderr=False</em>, <em class="sig-param">t_stats=True</em>, <em class="sig-param">float_format='%0.2f'</em>, <em class="sig-param">suppress_other_regressors=False</em>, <em class="sig-param">**reg_kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dero/reg/iter.html#reg_for_each_lag_and_produce_summary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dero.reg.iter.reg_for_each_lag_and_produce_summary" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="dero.reg.iter.reg_for_each_xvar_set">
<code class="sig-prename descclassname">dero.reg.iter.</code><code class="sig-name descname">reg_for_each_xvar_set</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">yvar</em>, <em class="sig-param">xvars_list</em>, <em class="sig-param">reg_type='reg'</em>, <em class="sig-param">**reg_kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dero/reg/iter.html#reg_for_each_xvar_set"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dero.reg.iter.reg_for_each_xvar_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs regressions on the same y variable for each set of x variables passed. xvars_list
should be a list of lists, where each individual list is one set of x variables for one model.
Returns a list of fitted regressions.</p>
<p>If fe is passed, should either pass a string to use fe in all models, or a list of strings or
None of same length as num models</p>
</dd></dl>

<dl class="function">
<dt id="dero.reg.iter.reg_for_each_xvar_set_and_produce_summary">
<code class="sig-prename descclassname">dero.reg.iter.</code><code class="sig-name descname">reg_for_each_xvar_set_and_produce_summary</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">yvar</em>, <em class="sig-param">xvars_list</em>, <em class="sig-param">robust=True</em>, <em class="sig-param">cluster=False</em>, <em class="sig-param">stderr=False</em>, <em class="sig-param">t_stats=True</em>, <em class="sig-param">fe=None</em>, <em class="sig-param">float_format='%0.2f'</em>, <em class="sig-param">suppress_other_regressors=False</em>, <em class="sig-param">regressor_order=[]</em>, <em class="sig-param">**other_reg_kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dero/reg/iter.html#reg_for_each_xvar_set_and_produce_summary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dero.reg.iter.reg_for_each_xvar_set_and_produce_summary" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function to run regressions for every set of xvars passed
and present them in a summary format. Returns a tuple of (reg_list, summary) where reg_list
is a list of fitted regression models, and summary is a single dataframe of results.</p>
<p>Required inputs:
df: pandas dataframe containing regression data
yvar: str, column name of y variable
xvars_list: list of lists of strs, each individual list has column names of x variables for that model</p>
<p>Optional inputs:
robust: bool, set to True to use heterskedasticity-robust standard errors
cluster: False or str, set to a column name to calculate standard errors within clusters</p>
<blockquote>
<div><p>given by unique values of given column name</p>
</div></blockquote>
<p>stderr: bool, set to True to keep rows for standard errors below coefficient estimates
t_stats: bool, set to True to keep rows for standard errors below coefficient estimates and convert them to t-stats
fe:    If fe is passed, should either pass a string to use fe in all models, or a list of strings or
None of same length as num models</p>
<p>Note: only specify at most one of robust and cluster.
Note: don’t set both stderr and t_stats to True</p>
</dd></dl>

<dl class="function">
<dt id="dero.reg.iter.reg_for_each_yvar">
<code class="sig-prename descclassname">dero.reg.iter.</code><code class="sig-name descname">reg_for_each_yvar</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">yvars</em>, <em class="sig-param">xvars</em>, <em class="sig-param">reg_type='reg'</em>, <em class="sig-param">**reg_kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dero/reg/iter.html#reg_for_each_yvar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dero.reg.iter.reg_for_each_yvar" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="dero.reg.iter.reg_for_each_yvar_and_produce_summary">
<code class="sig-prename descclassname">dero.reg.iter.</code><code class="sig-name descname">reg_for_each_yvar_and_produce_summary</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">yvars</em>, <em class="sig-param">xvars</em>, <em class="sig-param">main_ivs</em>, <em class="sig-param">reg_type='reg'</em>, <em class="sig-param">stderr=False</em>, <em class="sig-param">t_stats=True</em>, <em class="sig-param">float_format='%0.2f'</em>, <em class="sig-param">**reg_kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dero/reg/iter.html#reg_for_each_yvar_and_produce_summary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dero.reg.iter.reg_for_each_yvar_and_produce_summary" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-dero.reg.models">
<span id="dero-reg-models-module"></span><h2>dero.reg.models module<a class="headerlink" href="#module-dero.reg.models" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="dero.reg.models.get_model_class_by_string">
<code class="sig-prename descclassname">dero.reg.models.</code><code class="sig-name descname">get_model_class_by_string</code><span class="sig-paren">(</span><em class="sig-param">model_string</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dero/reg/models.html#get_model_class_by_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dero.reg.models.get_model_class_by_string" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="dero.reg.models.get_model_name_by_string">
<code class="sig-prename descclassname">dero.reg.models.</code><code class="sig-name descname">get_model_name_by_string</code><span class="sig-paren">(</span><em class="sig-param">model_string</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dero/reg/models.html#get_model_name_by_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dero.reg.models.get_model_name_by_string" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-dero.reg.order">
<span id="dero-reg-order-module"></span><h2>dero.reg.order module<a class="headerlink" href="#module-dero.reg.order" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="dero.reg.order.convert_regressor_order_for_diff">
<code class="sig-prename descclassname">dero.reg.order.</code><code class="sig-name descname">convert_regressor_order_for_diff</code><span class="sig-paren">(</span><em class="sig-param">regressor_order</em>, <em class="sig-param">reg_kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dero/reg/order.html#convert_regressor_order_for_diff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dero.reg.order.convert_regressor_order_for_diff" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="dero.reg.order.convert_regressor_order_for_lags">
<code class="sig-prename descclassname">dero.reg.order.</code><code class="sig-name descname">convert_regressor_order_for_lags</code><span class="sig-paren">(</span><em class="sig-param">regressor_order</em>, <em class="sig-param">reg_kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dero/reg/order.html#convert_regressor_order_for_lags"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dero.reg.order.convert_regressor_order_for_lags" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-dero.reg.quantile">
<span id="dero-reg-quantile-module"></span><h2>dero.reg.quantile module<a class="headerlink" href="#module-dero.reg.quantile" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="dero.reg.quantile.quantile_plot_from_quantile_result_df">
<code class="sig-prename descclassname">dero.reg.quantile.</code><code class="sig-name descname">quantile_plot_from_quantile_result_df</code><span class="sig-paren">(</span><em class="sig-param">result_df</em>, <em class="sig-param">yvar</em>, <em class="sig-param">main_iv</em>, <em class="sig-param">outpath=None</em>, <em class="sig-param">clear_figure=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dero/reg/quantile.html#quantile_plot_from_quantile_result_df"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dero.reg.quantile.quantile_plot_from_quantile_result_df" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a plot of effect of main_iv on yvar at different quantiles. To be used after
reg_for_each_quantile_produce_result_df</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>result_df</strong> – pd.DataFrame, result from reg_for_each_quantile_produce_result_df</p></li>
<li><p><strong>yvar</strong> – str, label of dependent variable</p></li>
<li><p><strong>main_iv</strong> – str, label of independent variable of interest</p></li>
<li><p><strong>outpath</strong> – str, filepath to output figure. must include matplotlib supported extension such as .pdf or .png</p></li>
<li><p><strong>clear_figure</strong> – bool, True wipe memory of matplotlib figure after running function</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="dero.reg.quantile.quantile_reg">
<code class="sig-prename descclassname">dero.reg.quantile.</code><code class="sig-name descname">quantile_reg</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">yvar</em>, <em class="sig-param">xvars</em>, <em class="sig-param">q=0.5</em>, <em class="sig-param">robust=True</em>, <em class="sig-param">cluster=False</em>, <em class="sig-param">cons=True</em>, <em class="sig-param">fe=None</em>, <em class="sig-param">interaction_tuples=None</em>, <em class="sig-param">num_lags=0</em>, <em class="sig-param">lag_variables='xvars'</em>, <em class="sig-param">lag_period_var='Date'</em>, <em class="sig-param">lag_id_var='TICKER'</em>, <em class="sig-param">lag_fill_method='ffill'</em>, <em class="sig-param">lag_fill_limit=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dero/reg/quantile.html#quantile_reg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dero.reg.quantile.quantile_reg" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a fitted quantile regression. Takes df, produces a regression df with no missing among needed
variables, and fits a regression model. If robust is specified, uses heteroskedasticity-
robust standard errors. If cluster is specified, calculated clustered standard errors
by the given variable.</p>
<p>Note: only specify at most one of robust and cluster.</p>
<p>Required inputs:
df: pandas dataframe containing regression data
yvar: str, column name of outcome y variable
xvars: list of strs, column names of x variables for regression</p>
<p>Optional inputs:
q: float between 0 and 1. Quantile of dependent variable to estimate coefficients for
robust: bool, set to True to use heterskedasticity-robust standard errors
cluster: False or str, set to a column name to calculate standard errors within clusters</p>
<blockquote>
<div><p>given by unique values of given column name</p>
</div></blockquote>
<p>cons: bool, set to False to not include a constant in the regression
fe: None or str or list of strs. If a str or list of strs is passed, uses these categorical
variables to construct dummies for fixed effects.
interaction_tuples: tuple or list of tuples of column names to interact and include as xvars
num_lags: int, Number of periods to lag variables. Setting to other than 0 will activate lags
lag_variables: ‘all’, ‘xvars’, or list of strs of names of columns to lag for regressions.
lag_period_var: str, only used if lag_variables is not None. name of column which</p>
<blockquote>
<div><p>contains period variable for lagging</p>
</div></blockquote>
<dl class="simple">
<dt>lag_fill_method: str, ‘ffill’ or ‘bfill’ for which method to use to fill in missing rows when</dt><dd><p>creating lag variables. See pandas.DataFrame.fillna for more details</p>
</dd>
<dt>lag_id_var: str, only used if lag_variables is not None. name of column which</dt><dd><p>contains identifier variable for lagging</p>
</dd>
</dl>
<p>lag_fill_limit: pandas fill limit</p>
<p>Returns:
If fe=None, returns statsmodels regression result
if fe is not None, returns a tuple of (statsmodels regression result, dummy_cols_dict)</p>
</dd></dl>

<dl class="function">
<dt id="dero.reg.quantile.reg_for_each_quantile_output_plot">
<code class="sig-prename descclassname">dero.reg.quantile.</code><code class="sig-name descname">reg_for_each_quantile_output_plot</code><span class="sig-paren">(</span><em class="sig-param">main_iv</em>, <em class="sig-param">*reg_args</em>, <em class="sig-param">num_quantiles=8</em>, <em class="sig-param">main_iv_label=None</em>, <em class="sig-param">outpath=None</em>, <em class="sig-param">clear_figure=True</em>, <em class="sig-param">**reg_kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dero/reg/quantile.html#reg_for_each_quantile_output_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dero.reg.quantile.reg_for_each_quantile_output_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a plot of effect of main_iv on yvar at different quantiles. To be used after
reg_for_each_quantile_produce_result_df</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>main_iv</strong> – str, column name of independent variable of interest</p></li>
<li><p><strong>reg_args</strong> – see quantile_reg for args</p></li>
<li><p><strong>num_quantiles</strong> – number of quantile regressions to run. will be spaced evenly. higher numbers
produce smoother graphs but take longer to run</p></li>
<li><p><strong>main_iv_label</strong> – str, label of independent variable of interest</p></li>
<li><p><strong>outpath</strong> – str, filepath to output figure. must include matplotlib supported extension such as .pdf or .png</p></li>
<li><p><strong>clear_figure</strong> – bool, True wipe memory of matplotlib figure after running function</p></li>
<li><p><strong>reg_kwargs</strong> – see quantile_reg for kwargs</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>result_df from reg_for_each_quantile_produce_result_df</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="dero.reg.quantile.reg_for_each_quantile_produce_result_df">
<code class="sig-prename descclassname">dero.reg.quantile.</code><code class="sig-name descname">reg_for_each_quantile_produce_result_df</code><span class="sig-paren">(</span><em class="sig-param">main_iv</em>, <em class="sig-param">*reg_args</em>, <em class="sig-param">num_quantiles=8</em>, <em class="sig-param">**reg_kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dero/reg/quantile.html#reg_for_each_quantile_produce_result_df"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dero.reg.quantile.reg_for_each_quantile_produce_result_df" title="Permalink to this definition">¶</a></dt>
<dd><p>Produce result DataFrame of running multiple quantile regressions spaced out between the
(0,1) interval</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>main_iv</strong> – str, column name of independent variable of interest</p></li>
<li><p><strong>reg_args</strong> – see quantile_reg for args</p></li>
<li><p><strong>num_quantiles</strong> – number of quantile regressions to run. will be spaced evenly. higher numbers
produce smoother graphs but take longer to run</p></li>
<li><p><strong>reg_kwargs</strong> – see quantile_reg for kwargs</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-dero.reg.reg">
<span id="dero-reg-reg-module"></span><h2>dero.reg.reg module<a class="headerlink" href="#module-dero.reg.reg" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="dero.reg.reg.reg">
<code class="sig-prename descclassname">dero.reg.reg.</code><code class="sig-name descname">reg</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">yvar</em>, <em class="sig-param">xvars</em>, <em class="sig-param">robust=True</em>, <em class="sig-param">cluster=False</em>, <em class="sig-param">cons=True</em>, <em class="sig-param">fe=None</em>, <em class="sig-param">interaction_tuples=None</em>, <em class="sig-param">num_lags=0</em>, <em class="sig-param">lag_variables='xvars'</em>, <em class="sig-param">lag_period_var='Date'</em>, <em class="sig-param">lag_id_var='TICKER'</em>, <em class="sig-param">lag_fill_method='ffill'</em>, <em class="sig-param">model_type='OLS'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dero/reg/reg.html#reg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dero.reg.reg.reg" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a fitted regression. Takes df, produces a regression df with no missing among needed
variables, and fits a regression model. If robust is specified, uses heteroskedasticity-
robust standard errors. If cluster is specified, calculated clustered standard errors
by the given variable.</p>
<p>Note: only specify at most one of robust and cluster.</p>
<p>Required inputs:
df: pandas dataframe containing regression data
yvar: str, column name of outcome y variable
xvars: list of strs, column names of x variables for regression</p>
<p>Optional inputs:
robust: bool, set to True to use heterskedasticity-robust standard errors
cluster: False or list of strs, set to a column name to calculate standard errors within clusters</p>
<blockquote>
<div><p>given by unique values of given column name. set to multiple column names for multiway
clustering following Cameron, Gelbach, and Miller (2011). NOTE: will get exponentially
slower as more cluster variables are added</p>
</div></blockquote>
<p>cons: bool, set to False to not include a constant in the regression
fe: None or str or list of strs. If a str or list of strs is passed, uses these categorical
variables to construct dummies for fixed effects.
interaction_tuples: tuple or list of tuples of column names to interact and include as xvars
num_lags: int, Number of periods to lag variables. Setting to other than 0 will activate lags
lag_variables: ‘all’, ‘xvars’, or list of strs of names of columns to lag for regressions.
lag_period_var: str, only used if lag_variables is not None. name of column which</p>
<blockquote>
<div><p>contains period variable for lagging</p>
</div></blockquote>
<dl class="simple">
<dt>lag_id_var: str, only used if lag_variables is not None. name of column which</dt><dd><p>contains identifier variable for lagging</p>
</dd>
<dt>lag_fill_method: str, ‘ffill’ or ‘bfill’ for which method to use to fill in missing rows when</dt><dd><p>creating lag variables. See pandas.DataFrame.fillna for more details</p>
</dd>
</dl>
<p>model_type: str, ‘OLS’, ‘probit’, or ‘logit’ for type of model</p>
<p>Returns:
If fe=None, returns statsmodels regression result
if fe is not None, returns a tuple of (statsmodels regression result, dummy_cols_dict)</p>
</dd></dl>

</div>
<div class="section" id="module-dero.reg.regtypes">
<span id="dero-reg-regtypes-module"></span><h2>dero.reg.regtypes module<a class="headerlink" href="#module-dero.reg.regtypes" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-dero.reg.select">
<span id="dero-reg-select-module"></span><h2>dero.reg.select module<a class="headerlink" href="#module-dero.reg.select" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="dero.reg.select.select_models">
<code class="sig-prename descclassname">dero.reg.select.</code><code class="sig-name descname">select_models</code><span class="sig-paren">(</span><em class="sig-param">reg_list</em>, <em class="sig-param">keepnum</em>, <em class="sig-param">xvars</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dero/reg/select.html#select_models"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dero.reg.select.select_models" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes a list of fitted regression models and selects among them based on adjusted R-Squared. For each
number of variables involved in the regressions, keepnum with the highest R-squareds will be kept.</p>
<p>For example, if reg_list contains 3 regressions with two variables and 6 regressions with three variables,
and keepnum is 2, will return a list of four regressions, 2 with two variables and 2 with three variables.</p>
</dd></dl>

</div>
<div class="section" id="module-dero.reg.tools">
<span id="dero-reg-tools-module"></span><h2>dero.reg.tools module<a class="headerlink" href="#module-dero.reg.tools" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-dero.reg">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-dero.reg" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Nick DeRobertis.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/dero.reg.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>